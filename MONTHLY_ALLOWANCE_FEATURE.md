# ููุฒุฉ ุทุจุงุนุฉ ูุดู ุงูุดูุฑูุงุช - Treasury

## ุงููุตู
ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ูู ุตูุญุฉ ุงูุฎุฒููุฉ ุชุณูุญ ุจููุชุฑุฉ ูุทุจุงุนุฉ ุงููุณุชููุฏูู ุงูุฐูู ูุชูุงุถูู ุดูุฑูุงุช ุจุชูุณูู ุงุญุชุฑุงูู.

## ุงููููุฒุงุช ุงููุถุงูุฉ

### 1. ููุชุฑุฉ ุงููุณุชููุฏูู ุงูุฐูู ูุชูุงุถูู ุดูุฑูุงุช
- ุชู ุฅุถุงูุฉ ููุชุฑุฉ ุชููุงุฆูุฉ ูู `BeneficiaryFilterPanel` ูููุณุชููุฏูู ุงูุฐูู ูุฏููู `receivesMonthlyAllowance = true`
- ูุธูุฑ ุงููุณุชููุฏูู ุงูุฐูู ูุชูุงุถูู ุดูุฑูุงุช ูุน ุฑูุฒ ๐ฐ ููุจูุบ ุงูุดูุฑูุฉ

### 2. ุฒุฑ ุทุจุงุนุฉ ูุดู ุงูุดูุฑูุงุช
- ุชู ุฅุถุงูุฉ ุฒุฑ "ุทุจุงุนุฉ ูุดู ุงูุดูุฑูุงุช" ูู ุตูุญุฉ ุงูุฎุฒููุฉ
- ูุธูุฑ ุงูุฒุฑ ุจุฌุงูุจ "ูุงุฆูุฉ ุงููุชุจุฑุนูู" ูู ุฃุนูู ุงูุตูุญุฉ

### 3. ูููู MonthlyAllowancePrintModal
ูููุน ุงูููู: `src/components/MonthlyAllowancePrintModal.tsx`

#### ุงูููุงุตูุงุช:
- **16 ุงุณู ูู ูู ุตูุญุฉ** ููุง ูู ูุทููุจ
- **ุฌุฏูู ููุธู** ูุญุชูู ุนูู:
  - ุฑูู ุชุณูุณูู (ู)
  - ุงุณู ุงููุณุชููุฏ
  - ุงููุจูุบ (ุฌ.ู)
  - ุนููุฏ ุงูุชูููุน (ูุงุฑุบ)
  
- **ุงูููุฏุฑ** ูุญุชูู ุนูู:
  - ุงุณู ุงููุดุฑูุน: "ูุดุฑูุน ุงูุชูุงูู ุงูุงุฌุชูุงุนู ูุฑุนุงูุฉ ุงูุฃูุชุงู"
  - ุนููุงู ุงููุดู: "ูุดู ุตุฑู ุงูุดูุฑูุงุช"
  - ุงูุชุงุฑูุฎ ุจุงูุชูููู ุงููุฌุฑู

- **ุญุณุงุจ ุงููุฌุงููุน**:
  - ูุฌููุน ุฌุฒุฆู ูู ููุงูุฉ ูู ุตูุญุฉ
  - ูุฌููุน ุฅุฌูุงูู ูู ุงูุตูุญุฉ ุงูุฃุฎูุฑุฉ

- **ุงูุชูููุนุงุช** (ูู ุงูุตูุญุฉ ุงูุฃุฎูุฑุฉ ููุท):
  - ุฃููู ุงูุตูุฏูู
  - ุงููุฑุงุฌุน
  - ุงููุฏูุฑ

- **ุชุฑููู ุงูุตูุญุงุช**: ุตูุญุฉ X ูู Y

### 4. ุงูุชุญุฏูุซุงุช ุนูู BeneficiarySummary Interface
ุชู ุฅุถุงูุฉ ุงูุญููู ุงูุชุงููุฉ:
```typescript
interface BeneficiarySummary {
  // ... ุงูุญููู ุงูููุฌูุฏุฉ
  receivesMonthlyAllowance?: boolean;
  monthlyAllowanceAmount?: number;
}
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูู ุตูุญุฉ ุงูุฎุฒููุฉ (`/admin/treasury`):
1. ุงุถุบุท ุนูู ุฒุฑ "ุทุจุงุนุฉ ูุดู ุงูุดูุฑูุงุช"
2. ุณููุชุญ ููุฏุงู ูุนุฑุถ:
   - ุนุฏุฏ ุงููุณุชููุฏูู ุงูุฐูู ูุชูุงุถูู ุดูุฑูุงุช
   - ุฅุฌูุงูู ูุจูุบ ุงูุดูุฑูุงุช
   - ุนุฏุฏ ุงูุตูุญุงุช ุงููุชููุนุฉ
3. ุงุถุบุท ุนูู "ุทุจุงุนุฉ ูุดู ุงูุดูุฑูุงุช" ูุชุญููู ููู PDF

### ุงูููุชุฑุฉ ูู ูุงุฆูุฉ ุงููุณุชููุฏูู:
- ุงุณุชุฎุฏู `BeneficiaryFilterPanel` ูุงุฎุชุฑ "ูุชูุงุถู ุดูุฑูุฉุ"
- ุณูุธูุฑ ุงููุณุชููุฏูู ูุน ุฑูุฒ ๐ฐ ููุจูุบ ุงูุดูุฑูุฉ

## ุงูุชูุณูู ูุงูุทุจุงุนุฉ

### ุฎุตุงุฆุต ููู PDF:
- ุงูุญุฌู: A4
- ุงูุงุชุฌุงู: ุนููุฏู (Portrait)
- ุงูููุงูุด: 10mm ูู ุฌููุน ุงูุฌูุงุช
- ุงูุฎุท: Traditional Arabic / Amiri
- ุงูุงุชุฌุงู: RTL (ูู ุงููููู ูููุณุงุฑ)

### ุงูุชุตููู:
- ุฌุฏูู ุจุญุฏูุฏ ุณูุฏุงุก ูุงุถุญุฉ
- ููุฏุฑ ูู ูู ุตูุญุฉ
- ุตู ุงููุฌููุน ุจุฎูููุฉ ุฒุฑูุงุก ูุงุชุญุฉ
- ุชูููุนุงุช ูู ุงูุตูุญุฉ ุงูุฃุฎูุฑุฉ ููุท

## ุงููููุงุช ุงููุนุฏูุฉ

1. **`src/app/admin/treasury/page.tsx`**
   - ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `MonthlyAllowancePrintModal`
   - ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ ุฃููููุฉ `Printer`
   - ุฅุถุงูุฉ ุญุงูุฉ `showMonthlyAllowancePrint`
   - ุฅุถุงูุฉ ููุชุฑุฉ `receivesMonthlyAllowance`
   - ุฅุถุงูุฉ ุฒุฑ ุงูุทุจุงุนุฉ
   - ุฅุถุงูุฉ ุงููููู ูู ููุงูุฉ ุงูุตูุญุฉ
   - ุชุญุฏูุซ `BeneficiarySummary` interface
   - ุฅุถุงูุฉ ุนุฑุถ ุฑูุฒ ุงูุดูุฑูุฉ ูู ูุงุฆูุฉ ุงููุณุชููุฏูู

2. **`src/components/MonthlyAllowancePrintModal.tsx`** (ููู ุฌุฏูุฏ)
   - ูููู ููุฏุงู ุงูุทุจุงุนุฉ ุงููุงูู

## ุงูุชุจุนูุงุช ุงููุณุชุฎุฏูุฉ
- `html2pdf.js` - ูุชุญููู HTML ุฅูู PDF (ููุฌูุฏ ูุณุจูุงู)
- `lucide-react` - ููุฃููููุงุช (ููุฌูุฏ ูุณุจูุงู)

## ููุงุญุธุงุช ูููุฉ
- ูุชู ููุก ุงูุตูุญุงุช ุจู 16 ุฎุงูุฉ ุญุชู ูู ูุงู ุนุฏุฏ ุงููุณุชููุฏูู ุฃูู
- ุงูุชูููุนุงุช ุชุธูุฑ ููุท ูู ุงูุตูุญุฉ ุงูุฃุฎูุฑุฉ
- ูููู ูููุณุชุฎุฏู ุงูุชูููุน ูุฏููุงู ุนูู ุงููุดู ุงููุทุจูุน
- ูุญุณุจ ุงููุฌููุน ุงูุฅุฌูุงูู ููุดูุฑูุงุช ุชููุงุฆูุงู

## ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู
```typescript
// ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุทุจุงุนุฉ:
setBeneficiaryFilters({ receivesMonthlyAllowance: true });
setShowMonthlyAllowancePrint(true);

// ุงููููู ูููู ุจุชุตููุฉ ุงููุณุชููุฏูู ุชููุงุฆูุงู:
beneficiaries
  .filter((b) => b.receivesMonthlyAllowance)
  .map((b) => ({
    _id: b._id,
    name: b.name,
    nationalId: b.nationalId,
    monthlyAllowanceAmount: b.monthlyAllowanceAmount,
  }))
```

## ุงูุตูุฑุฉ ุงููุฑููุฉ
ุงูุตูุฑุฉ ุงููุฑููุฉ ูู ุงูุทูุจ ุชูุถุญ ุงูุชูุณูู ุงููุทููุจ ูููุดูุ ููุฏ ุชู ุชุทุจูู ููุณ ุงูุฃุณููุจ ูู ุงููููู.
